Main.py
========

This is the main file of the program and consists of a single class, Main.
The constructor of this class initialises the GUI and also any attributes to ensure visibility throughout the Main class.

This file imports the *Crawler.py* and *DataAnalysis.py* files in order to execute their various functions.

In addition to using the functions from these two files, it has a number of its own functions.

Setup
^^^^^^^^^

These functions are concerned with setting up the program and are called at the beginning of execution, if they are needed.

getSeen
--------
.. code-block:: python

   getSeen()

This function retrieves the jobs and profiles already seen from the database and updates a dictionary to hold their IDs.
This prevents data duplication and wasted time retrieving data already seen.

setUpProgram
-------------
.. code-block:: python

   setUpProgram()

This function sets up the program and then executes it. It creates the database and then calls *getSeen*.
After this, it uses *getAllTheRelevantLinks* to fetch all the project URLs and then runs *fetchDataNonLogin* on each of them that has not been seen before.

After running *fetchDataNonLogin*, the program will have retrieved the winner details so this function then calls *lookAtWinnerProfiles* to get all the details.

Creating database tables
*************************

databaseSetup
______________
.. code-block:: python

   databaseSetup()

This function creates all the tables in the database (if they do not yet exist) by calling the relevant function.

createWinnersTable
____________________
.. code-block:: python

   createWinnersTable()

Creates the Winners table in the database, which will initially be empty.

createQualificationsTable
_____________________________
.. code-block:: python

   createQualificationsTable()

Creates the Qualifications table in the database, which will initially be empty.

createReviewsTable
______________________
.. code-block:: python

   createReviewsTable()

Creates the Reviews table in the database, which will initially be empty.

createJobsTable
__________________
.. code-block:: python

   createJobsTable()

Creates the Jobs table in the database, which will initially be empty.

createJobsHourlyTable
__________________________
.. code-block:: python

   createJobsHourlyTable()

Creates the JobsHourly table in the database, which will initially be empty.

createProfilesTable
______________________
.. code-block:: python

   createProfilesTable()

Creates the Profiles table in the database, which will initially be empty.

createBidsTable
__________________
.. code-block:: python

   createBidsTable()

Creates the Bids table in the database, which will initially be empty.

Program Execution
^^^^^^^^^^^^^^^^^^^^^

lookAtWinnerProfiles
---------------------
.. code-block:: python

   lookAtWinnerProfiles()

This function logs into Freelancer by calling the *loginToFreelancer* function and then calls the *getInformationFromBidderProfile* function, passing in the profile URL, to retrieve all the relevant data from that profile.
It then adds the given profile to the profiles already seen, to prevent duplication within a single program execution.

Saving to database
*******************

saveWinnerDetails
__________________
.. code-block:: python

   saveWinnerDetails(jobID, url, user)

This function handles saving the details of project winners to the Winners table of the database.
It takes 3 arguments:

| - *jobID*: This is the unique code for the project that this bidder won and it is generated by Freelancer.

| - *url*: This is the URL for the project that this bidder won.

| - *user* This is the username of the bidder that was awarded this work.

saveQualificationDetails
__________________
.. code-block:: python

   saveQualificationDetails()

This function handles saving the details of qualifications of this user to the Qualifications table of the database.

saveReviewDetails
__________________
.. code-block:: python

   saveReviewDetails()

This function handles saving the details of a review of this user to the Reviews table of the database.

saveJobDetails
__________________
.. code-block:: python

   saveJobDetails(url)

This function handles saving the details of a project to the Jobs table of the database if the amount paid was not an hourly rate.
It takes 1 argument:

| - *url*: This is the URL for the project.

saveJobHourlyDetails
__________________
.. code-block:: python

   saveJobHourlyDetails(url)

This function handles saving the details of a project to the JobsHourly table of the database if the amount paid was an hourly rate.
It takes 1 argument:

| - *url*: This is the URL for the project.

saveProfileDetails
__________________
.. code-block:: python

   saveProfileDetails()

This function handles saving the details of a user's profile to the Profiles table of the database.

saveBidDetails
__________________
.. code-block:: python

   saveBidDetails(jobID, country, user)

This function handles saving the details of a bid to the Bids table of the database.
It takes 3 arguments:

| - *jobID*: This is the unique code for the project and it is generated by Freelancer.

| - *country*: The country of the user who bid for this project.

| - *user*: The username of the person who bid on this project